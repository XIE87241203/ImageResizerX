<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>图片对比工具 - 网页版</title>
    <link rel="stylesheet" href="../common/style.css">
    <link rel="stylesheet" href="compare_style.css">
</head>

<body>
    <!-- 通用头部占位符 -->
    <div id="commonHeaderPlaceholder"></div>

    <div class="container" style="max-width: 900px;">
        <h1 id="compareTitle">🖼️ 图片对比工具</h1>
        <p class="subtitle" id="compareSubtitle">左右对比或叠加对比，快速发现差异</p>

        <div class="compare-container">
            <!-- 左侧图片上传 -->
            <div class="upload-column">
                <div class="upload-area" id="uploadAreaLeft">
                    <div class="upload-icon">📁</div>
                    <div class="upload-text" id="leftImageText">点击或拖拽图片到此处</div>
                    <div class="upload-hint">支持 PNG、JPG、JPEG、WebP、BMP、GIF</div>
                    <input type="file" id="fileInputLeft" accept="image/*" />
                </div>

                <div class="preview-section" id="previewSectionLeft">
                    <img id="previewImageLeft" class="preview-image" alt="预览" />
                    <div class="image-info" id="imageInfoLeft"></div>
                    <div class="remove-file" id="removeFileLeft">移除图片</div>
                </div>
            </div>
            <!-- 右侧图片上传 -->
            <div class="upload-column">
                <div class="upload-area" id="uploadAreaRight">
                    <div class="upload-icon">📁</div>
                    <div class="upload-text" id="rightImageText">点击或拖拽图片到此处</div>
                    <div class="upload-hint">支持 PNG、JPG、JPEG、WebP、BMP、GIF</div>
                    <input type="file" id="fileInputRight" accept="image/*" />
                </div>

                <div class="preview-section" id="previewSectionRight">
                    <img id="previewImageRight" class="preview-image" alt="预览" />
                    <div class="image-info" id="imageInfoRight"></div>
                    <div class="remove-file" id="removeFileRight">移除图片</div>
                </div>
            </div>
        </div>

        <div class="controls" id="controls" style="display: none;">
            <div class="control-group">
                <label id="compareModeLabel">对比模式:</label>
                <select id="compareMode" class="lang-btn" style="background: white;">
                    <option value="overlay">叠加对比</option>
                    <option value="side">左右并排</option>
                </select>
            </div>
            <div class="control-group" id="opacityControl">
                <label id="opacityLabel">叠加透明度:</label>
                <input type="range" id="opacitySlider" min="0" max="1" step="0.01" value="0.5" />
                <span id="opacityValue">50%</span>
            </div>
        </div>

        <div class="compare-view" id="compareView">
            <img id="imgBase" class="compare-img" src="" alt="Base Image" />
            <img id="imgOverlay" class="compare-img compare-overlay" src="" alt="Overlay Image" />
        </div>

        <div id="sideBySideView" style="display: none; gap: 10px; margin-top: 20px;">
            <div style="flex: 1;">
                <img id="imgLeftDisplay" style="width: 100%; border-radius: 8px;" />
                <div style="text-align: center; margin-top: 5px; color: #666;" id="leftLabel">基准图</div>
            </div>
            <div style="flex: 1;">
                <img id="imgRightDisplay" style="width: 100%; border-radius: 8px;" />
                <div style="text-align: center; margin-top: 5px; color: #666;" id="rightLabel">对比图</div>
            </div>
        </div>

        <div class="error" id="errorMsg"></div>

    </div>

    <!-- 多语言支持 -->
    <script src="../common/i18n.js"></script>
    <!-- 通用工具函数 -->
    <script src="../common/common.js"></script>
    <!-- 复用 app.js 中的工具函数 -->
    <script src="../app.js"></script>
    <!-- 对比工具逻辑 -->
    <script src="compare.js"></script>
</body>

</html>